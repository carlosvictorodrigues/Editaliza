<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç DEBUG FOOTER PURO - Editaliza</title>
    
    <!-- CSS do Footer -->
    <link href="css/footer.css" rel="stylesheet">
    
    <style>
        body { 
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
            overflow-x: hidden;
        }
        
        .debug-panel {
            background: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .status {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .status.warning { background: #fff3cd; color: #856404; }
        
        .footer-test-area {
            border: 3px dashed #ff0000;
            background: #fff5f5;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .footer-test-area::before {
            content: "üîç √ÅREA DE TESTE DO FOOTER - VERMELHA";
            font-size: 18px;
            font-weight: bold;
            color: #ff0000;
            display: block;
            margin-bottom: 10px;
        }
        
        .controls {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-bottom: 1px solid #333;
        }
        
        .log-entry.info { color: #00ff00; }
        .log-entry.warning { color: #ffff00; }
        .log-entry.error { color: #ff0000; }
        .log-entry.success { color: #00ffff; }
        
        .anti-redirect {
            background: #ff6b6b;
            color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Anti-Redirect -->
    <div class="anti-redirect">
        <h2>üö´ ANTI-REDIRECT ULTRA-ATIVO</h2>
        <p>Esta p√°gina usa APENAS JavaScript puro - SEM scripts externos</p>
        <p>Se voc√™ ainda for redirecionado, o problema √© no navegador ou sistema</p>
    </div>
    
    <h1>üîç DEBUG FOOTER PURO</h1>
    <p>Esta p√°gina testa o footer usando APENAS JavaScript puro</p>
    
    <div class="controls">
        <h3>üéÆ Controles de Teste:</h3>
        <button onclick="testFooterCSS()">üß™ Testar CSS do Footer</button>
        <button onclick="testFooterHTML()">üß™ Testar HTML do Footer</button>
        <button onclick="testFooterJS()">üß™ Testar JavaScript do Footer</button>
        <button onclick="injectEmbeddedFooter()">üéØ Injetar Footer Embutido</button>
        <button onclick="clearLogs()">üóëÔ∏è Limpar Logs</button>
        <button onclick="checkAll()">üîç Verificar Tudo</button>
        <button onclick="forceFooter()">üöÄ For√ßar Footer Manual</button>
    </div>
    
    <div class="status">
        <p>CSS carregado: <span id="css-status" class="status">Verificando...</span></p>
        <p>Footer no DOM: <span id="footer-status" class="status">Verificando...</span></p>
        <p>Footer vis√≠vel: <span id="footer-visible" class="status">Verificando...</span></p>
    </div>
    
    <!-- √Årea de Teste do Footer -->
    <div class="footer-test-area" id="footer-test-area">
        <p>Esta √°rea deve mostrar o footer quando ele for renderizado</p>
        <p><strong>Se voc√™ vir o footer aqui, ele est√° funcionando!</strong></p>
    </div>
    
    <!-- Painel de Debug -->
    <div class="debug-panel" id="debug-panel">
        <h3>üìù Logs de Debug:</h3>
        <div id="debug-content">
            <div class="log-entry info">üöÄ Debug puro iniciado - p√°gina carregada</div>
        </div>
    </div>
    
    <!-- Footer Manual para Teste -->
    <div class="footer-manual" style="background: #333; color: white; padding: 20px; margin: 20px 0; text-align: center;">
        <h3>üß™ Footer Manual para Compara√ß√£o</h3>
        <p>Este √© um footer manual para voc√™ ver se o problema √© de CSS ou de renderiza√ß√£o</p>
        <p>Se este footer aparecer mas o modular n√£o, o problema √© no JavaScript</p>
    </div>
    
    <script>
        // ========================================
        // ANTI-REDIRECT ULTRA-ATIVO
        // ========================================
        
        // Desabilitar TODOS os redirecionamentos poss√≠veis
        window.addEventListener('beforeunload', function(e) {
            e.preventDefault();
            e.returnValue = '';
            return '';
        });
        
        // Interceptar mudan√ßas de URL
        let currentUrl = window.location.href;
        setInterval(() => {
            if (window.location.href !== currentUrl) {
                console.log('üö´ Redirecionamento detectado!', {
                    from: currentUrl,
                    to: window.location.href
                });
                // Tentar voltar
                window.history.back();
                // For√ßar URL atual
                window.history.pushState(null, '', currentUrl);
            }
        }, 50);
        
        // Interceptar pushState e replaceState
        const originalPushState = history.pushState;
        const originalReplaceState = history.replaceState;
        
        history.pushState = function(...args) {
            console.log('üö´ pushState interceptado:', args);
            return originalPushState.apply(history, args);
        };
        
        history.replaceState = function(...args) {
            console.log('üö´ replaceState interceptado:', args);
            return originalReplaceState.apply(history, args);
        };
        
        // ========================================
        // DEBUG PURO DO FOOTER
        // ========================================
        
        let debugLog = [];
        
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${type.toUpperCase()}: ${message}`;
            
            debugLog.push(logEntry);
            
            // Adicionar ao painel
            const debugContent = document.getElementById('debug-content');
            const logDiv = document.createElement('div');
            logDiv.className = `log-entry ${type}`;
            logDiv.textContent = logEntry;
            
            debugContent.appendChild(logDiv);
            debugContent.scrollTop = debugContent.scrollHeight;
            
            // Log no console tamb√©m
            console.log(`[DEBUG ${type.toUpperCase()}] ${message}`);
        }
        
        // ========================================
        // FUN√á√ïES DE TESTE
        // ========================================
        
        function testFooterCSS() {
            addLog('üß™ Testando CSS do footer...', 'info');
            
            // Tentar carregar o CSS dinamicamente
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'css/footer.css';
            
            link.onload = function() {
                addLog('‚úÖ CSS do footer carregado dinamicamente', 'success');
                
                // Verificar se os estilos est√£o sendo aplicados
                const testDiv = document.createElement('div');
                testDiv.className = 'editaliza-footer';
                testDiv.style.cssText = 'padding: 20px; margin: 10px; border: 2px solid red;';
                testDiv.innerHTML = '<h4>üß™ Teste CSS Footer</h4><p>Se voc√™ vir este elemento estilizado, o CSS est√° funcionando</p>';
                
                document.body.appendChild(testDiv);
                
                // Verificar estilos computados
                const computedStyle = getComputedStyle(testDiv);
                addLog('üìä Estilos computados do teste', 'info');
                addLog(`Background: ${computedStyle.backgroundColor}`, 'info');
                addLog(`Color: ${computedStyle.color}`, 'info');
                addLog(`FontSize: ${computedStyle.fontSize}`, 'info');
                
            };
            
            link.onerror = function() {
                addLog('‚ùå Erro ao carregar CSS do footer', 'error');
            };
            
            document.head.appendChild(link);
        }
        
        function testFooterHTML() {
            addLog('üß™ Testando HTML do footer...', 'info');
            
            // Tentar carregar o HTML do footer usando XMLHttpRequest (mais compat√≠vel)
            const xhr = new XMLHttpRequest();
            xhr.open('GET', 'components/footer.html', true);
            
            xhr.onload = function() {
                if (xhr.status === 200) {
                    addLog('‚úÖ HTML do footer carregado com sucesso', 'success');
                    
                    // Inserir o HTML na √°rea de teste
                    const testArea = document.getElementById('footer-test-area');
                    testArea.innerHTML = xhr.responseText;
                    testArea.style.border = '3px solid #00ff00';
                    
                    addLog('üéâ Footer HTML inserido na √°rea de teste', 'success');
                } else {
                    addLog(`‚ùå Erro HTTP ${xhr.status}: ${xhr.statusText}`, 'error');
                }
            };
            
            xhr.onerror = function() {
                addLog('‚ùå Erro de rede ao carregar HTML do footer', 'error');
            };
            
            xhr.send();
        }
        
        function testFooterJS() {
            addLog('üß™ Testando JavaScript do footer...', 'info');
            
            // Verificar se o arquivo footer.js existe
            const xhr = new XMLHttpRequest();
            xhr.open('HEAD', 'js/footer.js', true);
            
            xhr.onload = function() {
                if (xhr.status === 200) {
                    addLog('‚úÖ Arquivo footer.js encontrado', 'success');
                    
                    // Tentar carregar o script
                    const script = document.createElement('script');
                    script.src = 'js/footer.js';
                    
                    script.onload = function() {
                        addLog('‚úÖ Script footer.js carregado com sucesso', 'success');
                        
                        // Verificar se a classe est√° dispon√≠vel
                        if (typeof EditalizaFooterRefatorado !== 'undefined') {
                            addLog('‚úÖ Classe EditalizaFooterRefatorado dispon√≠vel', 'success');
                            
                            // Tentar criar uma inst√¢ncia
                            try {
                                const footer = new EditalizaFooterRefatorado();
                                addLog('‚úÖ Inst√¢ncia do footer criada com sucesso', 'success');
                                
                                // Tentar inicializar
                                if (footer.init) {
                                    footer.init();
                                    addLog('‚úÖ Footer inicializado', 'success');
                                }
                                
                            } catch (error) {
                                addLog(`‚ùå Erro ao criar inst√¢ncia: ${error.message}`, 'error');
                            }
                            
                        } else {
                            addLog('‚ùå Classe EditalizaFooterRefatorado n√£o dispon√≠vel', 'error');
                        }
                    };
                    
                    script.onerror = function() {
                        addLog('‚ùå Erro ao carregar script footer.js', 'error');
                    };
                    
                    document.head.appendChild(script);
                    
                } else {
                    addLog(`‚ùå Arquivo footer.js n√£o encontrado: HTTP ${xhr.status}`, 'error');
                }
            };
            
            xhr.onerror = function() {
                addLog('‚ùå Erro de rede ao verificar footer.js', 'error');
            };
            
            xhr.send();
        }
        
        function forceFooter() {
            addLog('üöÄ For√ßando footer manual...', 'info');
            
            // Criar um footer manual b√°sico
            const footer = document.createElement('footer');
            footer.className = 'editaliza-footer-forcado';
            footer.style.cssText = `
                background: #2c3e50;
                color: white;
                padding: 20px;
                text-align: center;
                border-top: 3px solid #e74c3c;
                margin-top: 20px;
            `;
            
            footer.innerHTML = `
                <h3>üöÄ Footer For√ßado Manualmente</h3>
                <p>Este footer foi criado manualmente para testar se o problema √© de renderiza√ß√£o</p>
                <p>Se voc√™ vir este footer, o problema √© no sistema modular</p>
                <div style="margin-top: 15px;">
                    <a href="#" style="color: #3498db; margin: 0 10px;">In√≠cio</a>
                    <a href="#" style="color: #3498db; margin: 0 10px;">Sobre</a>
                    <a href="#" style="color: #3498db; margin: 0 10px;">Contato</a>
                </div>
            `;
            
            document.body.appendChild(footer);
            addLog('‚úÖ Footer manual criado e inserido', 'success');
        }
        
        // ========================================
        // FOOTER HTML EMBUTIDO
        // ========================================
        const FOOTER_HTML_EMBEDDED = `
        <footer class="editaliza-footer">
            <div class="footer-container">
                <!-- Grid principal -->
                <div class="footer-grid">
                    <!-- Se√ß√£o da marca -->
                    <div class="footer-brand">
                        <div class="footer-logo">
                            <svg class="footer-logo-icon" width="120" height="24" viewBox="0 0 510.24 101.5" xmlns="http://www.w3.org/2000/svg">
                                <defs>
                                    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <g>
                                    <path d="M0 24.5h510.24v52.5H0z" fill="url(#logoGradient)"/>
                                    <text x="255.12" y="55" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle" fill="white">EDITALIZA</text>
                                </g>
                            </svg>
                        </div>
                        <p class="footer-description">
                            Plataforma inteligente de estudos para concursos p√∫blicos com metodologia personalizada.
                        </p>
                        <!-- Redes sociais -->
                        <div class="footer-social">
                            <a href="#" class="social-link">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.058 1.645-.07 4.849-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4z"/>
                                </svg>
                                Instagram
                            </a>
                            <a href="#" class="social-link">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.047-1.032-3.047-1.032 0-1.26 1.317-1.26 3.047v5.569H9.351V9h3.414v1.721h.046c.466-.9 2.926-1.764 4.27-1.764 4.527 0 5.063 2.562 5.063 5.734v6.745z"/>
                                </svg>
                                LinkedIn
                            </a>
                            <a href="#" class="social-link">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17.472 14.382c-.696-.207-1.038-.318-1.466-.318-.466 0-.756.18-.756.486 0 .774 1.486 1.548 1.486 1.548s-1.486.774-1.486 1.548c0 .306.29.486.756.486.428 0 .77-.111 1.466-.318C18.422 18.617 19 17.733 19 16.5s-.578-2.117-1.528-2.118zM9.5 5C7.567 5 6 6.567 6 8.5S7.567 12 9.5 12 13 10.433 13 8.5 11.433 5 9.5 5zm5.882 9.782C14.043 15.804 12.756 16.5 11 16.5s-3.043-.696-4.382-1.718C6.279 13.96 6 13.019 6 12c0-1.019.279-1.96.618-2.782C7.957 8.196 9.244 7.5 11 7.5s3.043.696 4.382 1.718C16.721 10.04 17 10.981 17 12c0 1.019-.279 1.96-.618 2.782z"/>
                                </svg>
                                WhatsApp
                            </a>
                        </div>
                    </div>
                    <!-- Links da plataforma -->
                    <div class="footer-section">
                        <h3>Plataforma</h3>
                        <ul>
                            <li><a href="#">Dashboard</a></li>
                            <li><a href="#">Meus Estudos</a></li>
                            <li><a href="#">Cronograma</a></li>
                            <li><a href="#">Configura√ß√µes do Plano</a></li>
                            <li><a href="#">Meu Perfil</a></li>
                        </ul>
                    </div>
                    <!-- Recursos -->
                    <div class="footer-section">
                        <h3>Recursos</h3>
                        <ul>
                            <li><a href="#">Simulados</a></li>
                            <li><a href="#">Revis√µes</a></li>
                            <li><a href="#">Reda√ß√µes</a></li>
                            <li><a href="#">Cronograma Inteligente</a></li>
                            <li><a href="#">Gamifica√ß√£o</a></li>
                        </ul>
                    </div>
                    <!-- Suporte e contato -->
                    <div class="footer-section">
                        <h3>Suporte</h3>
                        <ul>
                            <li><a href="#">Contato</a></li>
                            <li><a href="#">Central de Ajuda</a></li>
                            <li><a href="#">Status</a></li>
                        </ul>
                    </div>
                </div>
                <!-- Linha divis√≥ria -->
                <div class="footer-divider"></div>
                <!-- Copyright -->
                <div class="footer-bottom">
                    <p>&copy; 2024 Editaliza. Todos os direitos reservados.</p>
                </div>
            </div>
        </footer>
        `;
        
        function injectEmbeddedFooter() {
            addLog('üéØ Injetando footer embutido no body...', 'info');
            document.body.insertAdjacentHTML('beforeend', FOOTER_HTML_EMBEDDED);
            addLog('‚úÖ Footer embutido injetado no body', 'success');
            addLog('üîç Footer deve aparecer no final da p√°gina', 'info');
        }
        
        function checkAll() {
            addLog('üîç Verifica√ß√£o completa iniciada...', 'info');
            
            // Verificar CSS
            const cssStatus = document.getElementById('css-status');
            const footerCSS = document.querySelector('link[href="css/footer.css"]');
            if (footerCSS) {
                cssStatus.textContent = '‚úÖ CSS carregado';
                cssStatus.className = 'status success';
                addLog('‚úÖ CSS do footer carregado', 'success');
            } else {
                cssStatus.textContent = '‚ùå CSS n√£o encontrado';
                cssStatus.className = 'status error';
                addLog('‚ùå CSS do footer n√£o encontrado', 'error');
            }
            
            // Verificar footer no DOM
            const footerStatus = document.getElementById('footer-status');
            const footer = document.querySelector('.editaliza-footer, .editaliza-footer-refatorado, .editaliza-footer-forcado');
            if (footer) {
                footerStatus.textContent = '‚úÖ Footer no DOM';
                footerStatus.className = 'status success';
                addLog('‚úÖ Footer encontrado no DOM', 'success');
                
                // Verificar se est√° vis√≠vel
                const footerVisible = document.getElementById('footer-visible');
                const isVisible = footer.offsetHeight > 0 && footer.offsetWidth > 0;
                if (isVisible) {
                    footerVisible.textContent = '‚úÖ Footer vis√≠vel';
                    footerVisible.className = 'status success';
                    addLog('‚úÖ Footer est√° vis√≠vel', 'success');
                } else {
                    footerVisible.textContent = '‚ùå Footer n√£o vis√≠vel';
                    footerVisible.className = 'status error';
                    addLog('‚ùå Footer n√£o est√° vis√≠vel', 'error');
                }
                
            } else {
                footerStatus.textContent = '‚ùå Footer n√£o no DOM';
                footerStatus.className = 'status error';
                addLog('‚ùå Footer n√£o encontrado no DOM', 'error');
            }
            
            addLog('üîç Verifica√ß√£o completa finalizada', 'info');
        }
        
        function clearLogs() {
            debugLog = [];
            const debugContent = document.getElementById('debug-content');
            debugContent.innerHTML = '<div class="log-entry info">üóëÔ∏è Logs limpos</div>';
            addLog('üóëÔ∏è Logs limpos com sucesso', 'info');
        }
        
        // ========================================
        // INICIALIZA√á√ÉO
        // ========================================
        
        document.addEventListener('DOMContentLoaded', function() {
            addLog('üöÄ DOM carregado - debug puro iniciado', 'success');
            
            // Verifica√ß√£o autom√°tica inicial
            setTimeout(() => {
                addLog('‚è∞ Verifica√ß√£o autom√°tica inicial (1s delay)', 'info');
                checkAll();
            }, 1000);
        });
        
        // Log inicial
        addLog('üîç Debug puro do footer iniciado', 'info');
        addLog(`üìÅ Arquivo atual: ${window.location.pathname}`, 'info');
        addLog(`üåê Protocolo: ${window.location.protocol}`, 'info');
        addLog(`üìç URL completa: ${window.location.href}`, 'info');
        addLog('üö´ Sistema anti-redirect ultra-ativo', 'warning');
        
        // Carregar CSS do footer automaticamente
        addLog('üé® Carregando CSS do footer automaticamente...', 'info');
        const cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = 'css/footer.css';
        
        cssLink.onload = function() {
            addLog('‚úÖ CSS do footer carregado automaticamente', 'success');
            // Atualizar status
            const cssStatus = document.getElementById('css-status');
            cssStatus.textContent = '‚úÖ CSS carregado';
            cssStatus.className = 'status success';
        };
        
        cssLink.onerror = function() {
            addLog('‚ùå Erro ao carregar CSS automaticamente', 'error');
        };
        
        document.head.appendChild(cssLink);
        
        // Verifica√ß√£o cont√≠nua de redirecionamento
        setInterval(() => {
            if (window.location.href !== currentUrl) {
                addLog('üö´ REDIRECIONAMENTO DETECTADO!', 'error');
                addLog(`De: ${currentUrl}`, 'error');
                addLog(`Para: ${window.location.href}`, 'error');
                
                // Tentar voltar
                window.history.back();
                window.history.pushState(null, '', currentUrl);
                
                addLog('üîÑ Tentando reverter redirecionamento...', 'warning');
            }
        }, 100);
    </script>
</body>
</html>
